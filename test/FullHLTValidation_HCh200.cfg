process TAUVALIDATION = {

   service = DQMStore{}	

   include "FWCore/MessageLogger/data/MessageLogger.cfi"
   untracked PSet maxEvents = { untracked int32 input = 5000}  

   source = PoolSource 
    {
         untracked vstring fileNames =
         {     
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/00C01449-E833-DD11-8688-001617C3B5F4.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/024FEBC0-EF33-DD11-8943-000423D9863C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/069BE2CC-EC33-DD11-91BC-000423D9863C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/1E14643F-EA33-DD11-B198-001617C3B78C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/2846DF4D-E833-DD11-B86E-000423D9863C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/32946E06-E933-DD11-A915-001617E30D40.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/3A337BE5-EC33-DD11-89FC-000423D6B48C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/3C9CF302-E733-DD11-875D-001617E30D06.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/4CEB4239-E933-DD11-B480-000423D98930.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/4E75E58E-E733-DD11-973B-001617DBD556.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/5E963558-E833-DD11-AFE7-001617E30D06.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/6AC9E280-E733-DD11-B13C-001617DBD5B2.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/7679BC1F-EA33-DD11-9D60-001617E30CE8.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/A084C62D-E833-DD11-98B2-001617E30D00.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/A0FCC9C9-E933-DD11-AB6D-001617E30F4C.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/A496F9BB-E833-DD11-847B-001617E30D0A.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/A81615E1-E733-DD11-9754-001617E30CA4.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/AA747048-E833-DD11-BC4D-001617E30D52.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/D82ECC96-E733-DD11-8E11-000423D6CA02.root',
	'/store/relval/2008/6/6/RelVal-RelValHiggsChargedTausM200-1212543891-STARTUP-2nd-02/0000/DEB35810-E833-DD11-9127-001617DBD332.root'
         }
    
    }



include "HLTriggerOffline/Tau/data/HLTTauRefInfo.cfi"
replace TauRefInfoProducer.MC.BosonID = 37
include "HLTriggerOffline/Tau/data/HLTTauRefCombiner.cfi"


//-------------------------MC Based Validation -------------------------------//




//General
module HLTTauValidationMC = HLTTauValidation {
untracked	InputTag triggerEventObject = hltTriggerSummaryRAW
untracked	InputTag refTauCollection      = TauRefInfoProducer:MCTaus
untracked	InputTag refLeptonCollection      = NOTHING
untracked	string   TriggerTag         = "HLTValRefToMC" 
untracked	bool     DoReferenceAnalysis= true
untracked	uint32    NTriggeredTaus     = 1	
untracked	uint32    NTriggeredLeptons  = 0	
untracked	InputTag   L1SeedFilter       = hltSingleTauL1SeedFilter::HLT
untracked	InputTag   L2EcalIsolFilter   = hltFilterSingleTauEcalIsolation::HLT
untracked	InputTag   L25PixelIsolFilter = hltFilterL25SingleTau::HLT
untracked	InputTag   L3SiliconIsolFilter= hltFilterL3SingleTau::HLT
untracked	InputTag   ElectronFilter     = DUMMY
untracked	InputTag   MuonFilter         = DUMMY
untracked	double   MatchDeltaRL1      = 0.5
untracked	double   MatchDeltaRHLT     = 0.3
untracked	string   OutputFileName     =""	    
untracked	string   LogFileName     ="HLTValRefToMC.log"	    

}

//L2 Validation

module L2TauValidationMC = L2TauValidation {
InputTag L2InfoAssociationInput=  hltL2SingleTauIsolationProducer:L2TauIsolationInfoAssociator
InputTag MatchedCollection     =  TauRefInfoProducer:MCTaus
InputTag MET                   =  hltMet
int32	 MatchLevel            =  1
double   MatchDeltaRMC         =  0.15
double   MatchDeltaRL1         =  0.5
string   TriggerTag            =  "L2ValidationRefToMC"
string   OutputFileName        =  ""
vdouble  Cuts                  = {5.,1000.,-1,1000,1000,1000,1000}
InputTag L1TauTrigger          = hltSingleTauL1SeedFilter

}

//L25Validation

module L25TauValidationMC = L25TauValidation {
   
   InputTag JetTagProd = hltConeIsolationL25SingleTau
   InputTag JetMCTagProd = TauRefInfoProducer:MCTaus				   
   InputTag l2CaloJets  = hltL2SingleTauIsolationSelector:Isolated        
   										  									   	   
   //Cuts for effciency plots
   double SignalCone = 0.15							   
   double MatchingCone = 0.1						   	   
   double IsolationCone = 0.5 						   	   
   double MinimumTransverseMomentumLeadingTrack = 3.			   	   
   double MinimumTransverseMomentumInIsolationRing = 1. 		   	   
   int32  MaximumNumberOfTracksIsolationRing = 0			   	   
   										   
   bool Signal = true								   
   double MCMatching = 0.30 
   string   TriggerTag            =  "L25ValidationRefToMC"
   string OutputFileName = ""						   
}



//-------------------------PF Based Validation -------------------------------//




//General
module HLTTauValidationPF = HLTTauValidation {
untracked	InputTag triggerEventObject = hltTriggerSummaryRAW
untracked	InputTag refTauCollection      = TauRefCombiner:GoodTaus
untracked	InputTag refLeptonCollection      = NOTHING
untracked	string   TriggerTag         = "HLTValRefToPF" 
untracked	bool     DoReferenceAnalysis= true
untracked	uint32    NTriggeredTaus     = 1	
untracked	uint32    NTriggeredLeptons  = 0	
untracked	InputTag   L1SeedFilter       = hltSingleTauL1SeedFilter::HLT
untracked	InputTag   L2EcalIsolFilter   = hltFilterSingleTauEcalIsolation::HLT
untracked	InputTag   L25PixelIsolFilter = hltFilterL25SingleTau::HLT
untracked	InputTag   L3SiliconIsolFilter= hltFilterL3SingleTau::HLT
untracked	InputTag   ElectronFilter     = DUMMY
untracked	InputTag   MuonFilter         = DUMMY
untracked	double   MatchDeltaRL1      = 0.5
untracked	double   MatchDeltaRHLT     = 0.3
untracked	string   OutputFileName     =""	    
untracked	string   LogFileName     ="HLTValRefToPF.log"	    

}

//L2 Validation

module L2TauValidationPF = L2TauValidation {
InputTag L2InfoAssociationInput=  hltL2SingleTauIsolationProducer:L2TauIsolationInfoAssociator
InputTag MatchedCollection     =  TauRefCombiner:GoodTaus
InputTag MET                   =  hltMet
int32	 MatchLevel            =  1
double   MatchDeltaRMC         =  0.15
double   MatchDeltaRL1         =  0.5
string   TriggerTag            =  "L2ValidationRefToPF"
string   OutputFileName        =  ""
vdouble  Cuts                  = {5.,1000.,-1,1000,1000,1000,1000}
InputTag L1TauTrigger          = hltSingleTauL1SeedFilter

}

//L25Validation

module L25TauValidationPF = L25TauValidation {
   
   InputTag JetTagProd = hltConeIsolationL25SingleTau
   InputTag JetMCTagProd = TauRefCombiner:GoodTaus				   
   InputTag l2CaloJets  = hltL2SingleTauIsolationSelector:Isolated        
   										  									   	   
   //Cuts for effciency plots
   double SignalCone = 0.15							   
   double MatchingCone = 0.1						   	   
   double IsolationCone = 0.5 						   	   
   double MinimumTransverseMomentumLeadingTrack = 3.			   	   
   double MinimumTransverseMomentumInIsolationRing = 1. 		   	   
   int32  MaximumNumberOfTracksIsolationRing = 0			   	   
   										   
   bool Signal = true								   
   double MCMatching = 0.30 
   string   TriggerTag            =  "L25ValidationRefToPF"
   string OutputFileName = "HLTTauVal210_pre5.root"						   
}



path MCVal = {TauRefInfoProducer,HLTTauValidationMC&L2TauValidationMC&L25TauValidationMC}
path PFVal = {TauRefCombiner,HLTTauValidationPF&L2TauValidationPF&L25TauValidationPF}

}
