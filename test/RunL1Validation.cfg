process L1VAL =  {

service = DQMStore{} 

source = PoolSource 
{ 
     untracked vstring fileNames =
     {
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/40FA3C45-E533-DD11-9B17-000423D98C20.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/82A59E41-E533-DD11-BD1F-000423D9890C.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/92ED629F-E833-DD11-AF71-001617DBD556.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/9430E4AB-E833-DD11-A517-001617E30D12.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/984CC643-E533-DD11-BA41-001617E30E2C.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/9A551841-E533-DD11-82B0-000423D174FE.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/B233AB12-EA33-DD11-82D5-000423D6CA02.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/B8CACA72-E633-DD11-A861-001617C3B5F4.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/BA2E0646-E533-DD11-9C7F-000423D98AF0.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/CEEFCB50-E533-DD11-B759-000423D98DD4.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/DAEAC6B8-E933-DD11-9807-001617E30CE8.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/EAAE6B3F-E533-DD11-9B9C-000423D94908.root'
     } 
}

#keep the logging output to a nice level
//include "FWCore/MessageService/data/MessageLogger.cfi"
//replace MessageLogger.destinations = {"detailedInfo.txt"}
service = MessageLogger {}

//#include "HLTriggerOffline/Tau/data/L1TauAnalyzer.cfi"
module l1tau = L1TauValidation { 
    InputTag PFTauSource = pfRecoTauProducer
    InputTag PFTauDiscriminatorSource = pfRecoTauDiscriminationByIsolation
    InputTag GenParticleSource = source

    // L1extra reading
    InputTag L1extraTauJetSource       = hltL1extraParticles:Tau
    InputTag L1extraCenJetSource       = hltL1extraParticles:Central
    InputTag L1extraForJetSource       = hltL1extraParticles:Forward
    InputTag L1extraNonIsoEgammaSource = hltL1extraParticles:NonIsolated
    InputTag L1extraIsoEgammaSource    = hltL1extraParticles:Isolated
    InputTag L1extraMETSource          = hltL1extraParticles
    InputTag L1extraMuonSource         = hltL1extraParticles
    double SingleTauThreshold = 80.
    double DoubleTauThreshold = 40.
    vdouble SingleTauMETThresholds = {30.,30}
    vdouble MuTauThresholds = {5.,20}
    vdouble IsoEgTauThresholds = {10.,20}

    // GT bit reading
    InputTag L1GtReadoutRecord = hltGtDigis
    InputTag L1GtObjectMap     = hltL1GtObjectMap
    string L1SingleTauName = "L1_SingleTauJet80"
    string L1DoubleTauName = "L1_DoubleTauJet40"
    string L1TauMETName    = "L1_TauJet30_ETM30"
    string L1MuonTauName   = "L1_Mu5_TauJet20"
    string L1IsoEGTauName  = "L1_IsoEG10_TauJet20"

    bool DoMCMatching    = true
    bool DoPFTauMatching = true

    int32    BosonPID     = 23 //(Z)
    // int32    BosonPID     = 37 //(H+)
    // int32    BosonPID     = 25 //(H0)
    // int32    BosonPID     = 36 //(A0)

    double L1MCTauMinDeltaR = 0.5
    double MCTauHadMinEt = 15.
    double MCTauHadMaxAbsEta = 2.5

    double PFMCTauMinDeltaR = 0.15
    double PFTauMinEt = 15.
    double PFTauMaxAbsEta = 2.5

    string OutputFileName = "relValZTT.root"
}

untracked PSet maxEvents = {untracked int32 input = 60}

/* If you need to reprocess PFTau: */
# PFTau
/*
include "TrackingTools/TransientTrack/data/TransientTrackBuilder.cfi"
include "RecoParticleFlow/Configuration/data/RecoParticleFlow.cff"
include "RecoJets/JetAssociationProducers/data/ic5PFJetTracksAssociatorAtVertex.cfi"
include "RecoTauTag/RecoTau/data/PFRecoTauTagInfoProducer.cfi"  
include "RecoTauTag/RecoTau/data/PFRecoTauProducer.cfi"
include "RecoTauTag/RecoTau/data/PFRecoTauDiscriminationByIsolation.cfi"
  replace pfRecoTauProducer.TrackerSignalConeSizeFormula  = "5.0/ET"
  replace pfRecoTauProducer.TrackerSignalConeSize_min     = 0.07
  replace pfRecoTauProducer.TrackerSignalConeSize_max     = 0.15
  replace pfRecoTauProducer.GammaCand_minPt               = 1.5
  replace pfRecoTauProducer.LeadChargedHadrCand_minPt     = 5.
  replace pfRecoTauProducer.ChargedHadrCand_minPt         = 1.
  replace pfRecoTauProducer.LeadTrack_minPt               = 5.
  replace pfRecoTauProducer.Track_minPt                   = 1.

//
include "Geometry/CMSCommonData/data/cmsIdealGeometryXML.cfi"
include "Geometry/CaloEventSetup/data/CaloGeometry.cfi"
es_module = CaloTowerConstituentsMapBuilder {
  untracked string MapFile="Geometry/CaloTopology/data/CaloTowerEEGeometric.map.gz"
}
//include "Geometry/CaloEventSetup/data/CaloTopology.cfi"
//es_module = HcalTopologyIdealEP {}
include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"
include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"

include "L1Trigger/Configuration/data/L1Emulator.cff"
include "L1Trigger/Configuration/data/L1Extra.cff"
*/

//include "HLTriggerOffline/Tau/data/HLTTauMcInfo.cfi"

path p = {l1tau} 
//path p = { L1Emulator,L1Extra,l1tau }
//path p = {pfRecoTauTagInfoProducer,
//	  pfRecoTauProducer,pfRecoTauDiscriminationByIsolation,
//	  L1Emulator,L1Extra,l1tau}


}
