process TAUVALIDATION = {

   service = DQMStore{}	

   include "FWCore/MessageLogger/data/MessageLogger.cfi"
   untracked PSet maxEvents = { untracked int32 input = -1}  

   source = PoolSource 
    {
         untracked vstring fileNames =
         {     
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/40FA3C45-E533-DD11-9B17-000423D98C20.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/82A59E41-E533-DD11-BD1F-000423D9890C.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/92ED629F-E833-DD11-AF71-001617DBD556.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/9430E4AB-E833-DD11-A517-001617E30D12.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/984CC643-E533-DD11-BA41-001617E30E2C.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/9A551841-E533-DD11-82B0-000423D174FE.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/B233AB12-EA33-DD11-82D5-000423D6CA02.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/B8CACA72-E633-DD11-A861-001617C3B5F4.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/BA2E0646-E533-DD11-9C7F-000423D98AF0.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/CEEFCB50-E533-DD11-B759-000423D98DD4.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/DAEAC6B8-E933-DD11-9807-001617E30CE8.root',
'/store/relval/2008/6/6/RelVal-RelValZTT-1212543891-STARTUP-2nd-02/0000/EAAE6B3F-E533-DD11-9B9C-000423D94908.root'
         }
    
    }



include "HLTriggerOffline/Tau/data/HLTTauRefInfo.cfi"
include "HLTriggerOffline/Tau/data/HLTTauRefCombiner.cfi"


//-------------------------MC Based Validation -------------------------------//




//General
module HLTTauValidationMC = HLTTauValidation {
untracked	InputTag triggerEventObject = hltTriggerSummaryRAW
untracked	InputTag refTauCollection      = TauRefInfoProducer:MCTaus
untracked	InputTag refLeptonCollection      = NOTHING
untracked	string   TriggerTag         = "HLTValRefToMC" 
untracked	bool     DoReferenceAnalysis= true
untracked	uint32    NTriggeredTaus     = 2	
untracked	uint32    NTriggeredLeptons  = 0	
untracked	InputTag   L1SeedFilter       = hltDoubleTauL1SeedFilter::HLT
untracked	InputTag   L2EcalIsolFilter   = hltFilterDoubleTauEcalIsolation::HLT
untracked	InputTag   L25PixelIsolFilter = hltFilterL25PixelTau::HLT
untracked	InputTag   L3SiliconIsolFilter= DUMMY
untracked	InputTag   ElectronFilter     = DUMMY
untracked	InputTag   MuonFilter         = DUMMY
untracked	double   MatchDeltaRL1      = 0.5
untracked	double   MatchDeltaRHLT     = 0.3
untracked	string   OutputFileName     =""	    
untracked	string   LogFileName     ="HLTValRefToMC.log"	    

}

//L2 Validation

module L2TauValidationMC = L2TauValidation {
InputTag L2InfoAssociationInput=  hltL2DoubleTauIsolationProducer:L2TauIsolationInfoAssociator
InputTag MatchedCollection     =  TauRefInfoProducer:MCTaus
InputTag MET                   =  hltMet
int32	 MatchLevel            =  1
double   MatchDeltaRMC         =  0.15
double   MatchDeltaRL1         =  0.5
string   TriggerTag            =  "L2ValidationRefToMC"
string   OutputFileName        =  ""
vdouble  Cuts                  = {5.,1000.,-1,1000,1000,1000,1000}
InputTag L1TauTrigger          = hltDoubleTauL1SeedFilter

}

//L25Validation

module L25TauValidationMC = L25TauValidation {
   
   InputTag JetTagProd = hltConeIsolationL25PixelTauIsolated
   InputTag JetMCTagProd = TauRefInfoProducer:MCTaus				   
   InputTag l2CaloJets  = hltL2DoubleTauIsolationSelector:Isolated        
   										  									   	   
   //Cuts for effciency plots
   double SignalCone = 0.15							   
   double MatchingCone = 0.1						   	   
   double IsolationCone = 0.5 						   	   
   double MinimumTransverseMomentumLeadingTrack = 3.			   	   
   double MinimumTransverseMomentumInIsolationRing = 1. 		   	   
   int32  MaximumNumberOfTracksIsolationRing = 0			   	   
   										   
   bool Signal = true								   
   double MCMatching = 0.30 
   string   TriggerTag            =  "L25ValidationRefToMC"
   string OutputFileName = ""						   
}




//-------------------------PF Based Validation -------------------------------//

//General
module HLTTauValidationPF = HLTTauValidation {
untracked	InputTag triggerEventObject = hltTriggerSummaryRAW
untracked	InputTag refTauCollection      = TauRefCombiner:GoodTaus
untracked	InputTag refLeptonCollection      = NOTHING
untracked	string   TriggerTag         = "HLTValRefToPF" 
untracked	bool     DoReferenceAnalysis= true
untracked	uint32    NTriggeredTaus     = 2	
untracked	uint32    NTriggeredLeptons  = 0	
untracked	InputTag   L1SeedFilter       = hltDoubleTauL1SeedFilter::HLT
untracked	InputTag   L2EcalIsolFilter   = hltFilterDoubleTauEcalIsolation::HLT
untracked	InputTag   L25PixelIsolFilter = hltFilterL25PixelTau::HLT
untracked	InputTag   L3SiliconIsolFilter= DUMMY
untracked	InputTag   ElectronFilter     = DUMMY
untracked	InputTag   MuonFilter         = DUMMY
untracked	double   MatchDeltaRL1      = 0.5
untracked	double   MatchDeltaRHLT     = 0.3
untracked	string   OutputFileName     =""	    
untracked	string   LogFileName     ="HLTValRefToPF.log"	    

}

//L2 Validation

module L2TauValidationPF = L2TauValidation {
InputTag L2InfoAssociationInput=  hltL2DoubleTauIsolationProducer:L2TauIsolationInfoAssociator
InputTag MatchedCollection     =  TauRefCombiner:GoodTaus
InputTag MET                   =  hltMet
int32	 MatchLevel            =  1
double   MatchDeltaRMC         =  0.15
double   MatchDeltaRL1         =  0.5
string   TriggerTag            =  "L2ValidationRefToPF"
string   OutputFileName        =  ""
vdouble  Cuts                  = {5.,1000.,-1,1000,1000,1000,1000}
InputTag L1TauTrigger          = hltDoubleTauL1SeedFilter

}

//L25Validation

module L25TauValidationPF = L25TauValidation {
   
   InputTag JetTagProd = hltConeIsolationL25PixelTauIsolated
   InputTag JetMCTagProd = TauRefCombiner:GoodTaus		   
   InputTag l2CaloJets  = hltL2DoubleTauIsolationSelector:Isolated        
   										  									   	   
   //Cuts for effciency plots
   double SignalCone = 0.15							   
   double MatchingCone = 0.1						   	   
   double IsolationCone = 0.5 						   	   
   double MinimumTransverseMomentumLeadingTrack = 3.			   	   
   double MinimumTransverseMomentumInIsolationRing = 1. 		   	   
   int32  MaximumNumberOfTracksIsolationRing = 0			   	   
   										   
   bool Signal = true								   
   double MCMatching = 0.30 
     							   
   string   TriggerTag            =  "L25ValidationRefToPF"
   string OutputFileName = "HLTTauVal210_pre5.root"						   
}


path MCVal = {TauRefInfoProducer,HLTTauValidationMC&L2TauValidationMC&L25TauValidationMC}
path PFVal = {TauRefCombiner,HLTTauValidationPF&L2TauValidationPF&L25TauValidationPF}

}
